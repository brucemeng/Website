---
title: Volatility of Revenue thoughts
author: Bruce Meng
date: '2017-10-28'
slug: volatility-of-profit-and-loss-thoughts
categories: []
tags:
  - R
  - statistics
---



<p>I did this bit of analysis for BMO Investor Relations a few years back while I was with BMO Capital Markets but I think it is still an interesting topic.</p>
<p>The quick summary is that BMO Investor Relations received a published report, as well as the data and analysis underpinning the report from one of the credit rating agencies. The rating agency analyst made some certain assertions about BMO’s revenue volatility, but it turns out that the statistical analysis used by the analyst was… questionable.</p>
<p>Before we get into that however, let’s first define some terms and some concepts so that we are all on the same page. Let’s start with… what is volatility?</p>
<div id="volatility-definition" class="section level2">
<h2>Volatility definition</h2>
<p>To me, volatility is best defined as:</p>
<blockquote>
<p>Volatility is something unexpected happening…</p>
</blockquote>
<p>So, for instance, the sun rises and sets every day. You can therefore say that the value changes from day to night constantly, but because the sun rising and setting is expected, this wouldn’t be a cause for volatility. If you were to ask me to predict whether the sun would rise tomorrow, I would with 100% certainty say “YES!”. Indeed, if the opposite were to happen, then an unfathomable catastrophe would have instead occurred.</p>
<p>Now, let’s introduce some data to move this discussion from a purely theoretical one. We shall use three companies to illustrate this:</p>
<ul>
<li>Company A (A) - a consistent growth company</li>
<li>Company B (B) - a consistent no growth company</li>
<li>Company C (C) - an inconsistent no growth company</li>
</ul>
<pre class="r"><code>A &lt;- c(100,110,120,130,140,150) %&gt;% data.frame(Date = zoo::index(.), 
                                               Revenue = ., 
                                               Company = &quot;A&quot;)

B &lt;- c(125,125,125,125,125,125) %&gt;% data.frame(Date = zoo::index(.), 
                                               Revenue = ., 
                                               Company = &quot;B&quot;)

C &lt;- runif(6, min = 100, max = 150) %&gt;% data.frame(Date = zoo::index(.), 
                                                  Revenue = ., 
                                                  Company = &quot;C&quot;)

company &lt;- rbind(A, B, C)</code></pre>
<p>Visualizing the above data points shows this:</p>
<pre class="r"><code>ggplot(company, aes(x = Date, y = Revenue)) +
        geom_line() +
        facet_grid(. ~ Company) +
        theme_minimal()</code></pre>
<p><img src="/post/2017-10-23-volatility-of-profit-and-loss-thoughts_files/figure-html/data.gen.visual-1.png" width="672" /></p>
<p>Intuitively, based on the above definition, we would conclude that Vol(A) = Vol(B) = 0, and Vol(C) &gt; Vol(A) &amp; Vol(B).</p>
<p>Using standard deviation as our quantitative measure of volatility, let’s see what happens if we calculate the standard deviation of A, B, C directly:</p>
<pre class="r"><code>data.frame(A = round(sd(A$Revenue),0), 
           B = sd(B$Revenue), 
           C = round(sd(C$Revenue),0))</code></pre>
<pre><code>##    A B  C
## 1 19 0 10</code></pre>
<p>The above result violates our intuitive understanding that Vol(A) = Vol(B), since the standard deviation of A is not the same as the standard deviation of B. This is because A is a trending series.</p>
<p>We need to transform our series of numbers to remove the trend. We can do this by taking the first difference of all three companies (i.e. we look at the change in the original numbers for A, B, C).</p>
<pre class="r"><code># Transform data
A$Rev.transform &lt;- c(NA, diff(A$Revenue))
B$Rev.transform &lt;- c(NA, diff(B$Revenue))
C$Rev.transform &lt;- c(NA, diff(C$Revenue))

company.transform &lt;- rbind(A, B, C)

# Plot data
ggplot(company.transform, aes(x = Date, y = Rev.transform)) +
        geom_line() +
        facet_grid(. ~ Company) +
        ylab(&quot;Revenue Change&quot;) +
        theme_minimal()</code></pre>
<p><img src="/post/2017-10-23-volatility-of-profit-and-loss-thoughts_files/figure-html/transform-1.png" width="672" /></p>
<p>The above graphs show that A has been increasing their results by 10 every year, B has no change to their results every year, and C has a variable change to their results every year.</p>
<p>Now, if we repeat our standard deviation calculation on the first differenced results, we will get a quantitative measure of volatility that doesn’t violate our intuition.</p>
<pre class="r"><code>data.frame(A = round(sd(A$Rev.transform, na.rm = T),0), 
           B = sd(B$Rev.transform, na.rm = T), 
           C = round(sd(C$Rev.transform, na.rm = T),0))</code></pre>
<pre><code>##   A B  C
## 1 0 0 13</code></pre>
</div>
